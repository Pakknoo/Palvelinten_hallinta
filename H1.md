# x) Lue ja tiivistä. 

Karvinen 2023: Run Salt Command Locally 

Karvinen 2023: Create a Web Page Using Github 

Karvinen 2006: Raportin kirjoittaminen 

# a) Hello Windows/Mac Salt World! 
Näytä jollain Salt-komennolla, että olet onnistunut asentamaan Saltin (salt-minion) Windowsille tai Macille. Jos et ole vielä asentanut Saltia, raportoi myös asennus. 

    
# b) Hello Vagrant! Osoita jollain komennolla, että Vagrant toimii. Jos et ole vielä asentanut niitä, raportoi myös Vagrant ja VirtualBox asennukset. 

 

Virtualbox oli jo aiemmin asennettuna koneelleni. Vagrantin asensin komennolla  

       sudo apt-get install vagrant

(Kuva vagrant –verison komennosta) 

![3](https://github.com/Pakknoo/Palvelinten_hallinta/assets/122889266/110a3699-8987-48d0-bf79-ce5b3fe85550)

 

 
# c) Tee Vagrantilla uusi Linux-virtuaalikone. 

 

Vagrant init debian/bullseye64 

Vagrant up --provider virtualbox 

Uusi virtuaalikone on luotu.  

KOmennolla 

Vagrant ssh 

Voi ottaa etäyhteyden virtuaalikoneeseen. 
![2](https://github.com/Pakknoo/Palvelinten_hallinta/assets/122889266/c0ee00c7-88d1-4b86-849a-80fc057ec59d)

 

 

 

 
# a) Asenna Salt (salt-minion) Linuxille (uuteen virtuaalikoneeseesi). 

 
![1](https://github.com/Pakknoo/Palvelinten_hallinta/assets/122889266/91f071e9-6f83-4bb0-bea7-dd688bac3a4f)
 

 

 

 

 

 
# b) Viisi tärkeintä. Näytä Linuxissa esimerkit viidestä tärkeimmästä Saltin tilafunktiosta: pkg, file, service, user, cmd. Analysoi ja selitä tulokset. 

 

## Pkg.installed 

 

Sudo salt-call –local –l info state.single pkg.installed tree 

 

Asentaa applikaation tree 

 ![14](https://github.com/Pakknoo/Palvelinten_hallinta/assets/122889266/ad6c7de9-a640-46df-9ae7-8344821e645c)

## File managed 

 

Luo uuden tyhjän (teksti)tiedoston nimeltään testitiedosto kotikansiossa olevaan testikansioon. 

![13](https://github.com/Pakknoo/Palvelinten_hallinta/assets/122889266/72eeba3f-92f9-4a22-99a7-95e4fcf10ca7) 

Sudo salt-call –local –l info state.single file.managed/home/noora/testikansio/testitiedosto 

 

Luotu tiedosto voidaan poistaa komennolla  

 

Sudo salt-call –local – l info state.single file.absent /home/noora/testikansio/testitiedosto 

 
![12](https://github.com/Pakknoo/Palvelinten_hallinta/assets/122889266/d643f502-7e64-48ee-bf7a-90f8cb555051)

## Service.running 

Komennolla käynnistetään apache2, mutta mitään ei tapahdu, sillä apache2 oli jo käynnissä. 

![11](https://github.com/Pakknoo/Palvelinten_hallinta/assets/122889266/69e94ba6-8f30-4065-a7a2-3b5d3d7f020b)

Apache2 voidaan sammuttaa komennolla: 

 ![10](https://github.com/Pakknoo/Palvelinten_hallinta/assets/122889266/99ff9755-f4bd-4516-b7ee-e8a33bb75475)

 
## User.present 

 

Komennolla voidaan luoda uusi käyttäjä. Loin käyttäjän nimelta uusikayttaja. 


![6](https://github.com/Pakknoo/Palvelinten_hallinta/assets/122889266/e3c13c98-d898-41f2-a55a-ea5e5df78b78)


![5](https://github.com/Pakknoo/Palvelinten_hallinta/assets/122889266/d463a4fa-e611-4100-9290-0dd576c69838)

Tarkistetaan, että uusi käyttäjä oli oikeasti luotu: 

Cat /etc/passwd 
![9](https://github.com/Pakknoo/Palvelinten_hallinta/assets/122889266/79e7cb00-b07e-4878-9f3b-511009623718)



Käyttäjä voidaan poistaa komennolla: 

 ![8](https://github.com/Pakknoo/Palvelinten_hallinta/assets/122889266/bd975d68-70cb-4832-9ae3-687b452e07a7)

Katsotaan, että käyttäjä on varmasti poistettu
Cat /etc/passwd 

 ![7](https://github.com/Pakknoo/Palvelinten_hallinta/assets/122889266/14ff90a5-5da6-43e2-b408-976cf99d0739)


Poisto oli onnistunut. 

 
## Cmd.run 

# c) Idempotentti. Anna esimerkki idempotenssista. Aja 'salt-call --local' komentoja, analysoi tulokset, selitä miten idempotenssi ilmenee. 

# d) Tietoa koneesta. Kerää tietoja koneesta Saltin grains.items -tekniikalla. Poimi kolme kiinnostavaa kohtaa, näytä tulokset ('grains.item osfinger virtual') ja analysoi ne. 



# Lähteet:

















